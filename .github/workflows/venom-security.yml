# .github/workflows/venom-security.yml

name: üêç White-Venom Ferrari Native Build

on:
  push:
    branches: [ "main", "master" ]

jobs:
  build:
    name: Native Debian Execution
    runs-on: [self-hosted, venom-builder]

    steps:
      - name: Checkout Source
        uses: actions/checkout@v4

      - name: High-Performance Build
        run: |
          echo "Building on $(nproc) cores..."
          # A te Ferrari-d minden erej√©t bevetj√ºk
          mkdir -p build
          cmake -S . -B build -DCMAKE_BUILD_TYPE=Release
          cmake --build build --parallel $(nproc)

      - name: BPF & Kernel Check
        run: |
          echo "Validating Kernel environment..."
          # Itt m√°r tudsz olyanokat, amiket a felh≈ëben soha
          ls /sys/kernel/btf/vmlinux && echo "BTF is available!"
          bpftool feature probe || echo "Checking BPF capabilities..."
